The target sql distribution is based on interval_counts: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Generate 1000 SQL, with cost from 0 to 10000, split into 10 intervals.
Generated target sql distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Start initial profiling of template_1
Finish initial profiling of template_1
Start initial profiling of template_2
Finish initial profiling of template_2
Start initial profiling of template_3
Finish initial profiling of template_3
Start initial profiling of template_4
Finish initial profiling of template_4
Start initial profiling of template_5
Finish initial profiling of template_5
Start initial profiling of template_6
Finish initial profiling of template_6
Start initial profiling of template_7
Finish initial profiling of template_7
Start initial profiling of template_8
Finish initial profiling of template_8
Start initial profiling of template_9
Finish initial profiling of template_9
Start initial profiling of template_10
Finish initial profiling of template_10
Start initial profiling of template_11
Finish initial profiling of template_11
Start initial profiling of template_12
Finish initial profiling of template_12
Start initial profiling of template_13
Finish initial profiling of template_13
Start initial profiling of template_14
Finish initial profiling of template_14
Start initial profiling of template_15
Finish initial profiling of template_15
Start initial profiling of template_16
Finish initial profiling of template_16
Start initial profiling of template_17
Finish initial profiling of template_17
Start initial profiling of template_18
Finish initial profiling of template_18
Start initial profiling of template_19
Finish initial profiling of template_19
Start initial profiling of template_20
Finish initial profiling of template_20
Start initial profiling of template_21
Finish initial profiling of template_21
Start initial profiling of template_22
Finish initial profiling of template_22
Start initial profiling of template_23
Finish initial profiling of template_23
Start initial profiling of template_24
Finish initial profiling of template_24
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
Distribution after update: [28, 0, 0, 0, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [28, 0, 0, 0, 0, 0, 0, 0, 0, 0]
Distribution after update: [28, 0, 0, 0, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [28, 0, 0, 0, 0, 0, 0, 0, 0, 0]
Distribution after update: [178, 0, 0, 0, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [178, 0, 0, 0, 0, 0, 0, 0, 0, 0]
Distribution after update: [322, 0, 0, 0, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [322, 0, 0, 0, 0, 0, 0, 0, 0, 0]
Distribution after update: [469, 0, 0, 0, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [469, 0, 0, 0, 0, 0, 0, 0, 0, 0]
Distribution after update: [469, 0, 150, 0, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [469, 0, 150, 0, 0, 0, 0, 0, 0, 0]
Distribution after update: [506, 0, 150, 0, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [506, 0, 150, 0, 0, 0, 0, 0, 0, 0]
Distribution after update: [656, 0, 150, 0, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [656, 0, 150, 0, 0, 0, 0, 0, 0, 0]
Distribution after update: [806, 0, 150, 0, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [806, 0, 150, 0, 0, 0, 0, 0, 0, 0]
Distribution after update: [806, 0, 150, 0, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [806, 0, 150, 0, 0, 0, 0, 0, 0, 0]
Distribution after update: [813, 0, 150, 0, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [813, 0, 150, 0, 0, 0, 0, 0, 0, 0]
Distribution after update: [963, 0, 150, 0, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [963, 0, 150, 0, 0, 0, 0, 0, 0, 0]
Distribution after update: [963, 0, 150, 0, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [963, 0, 150, 0, 0, 0, 0, 0, 0, 0]
Distribution after update: [963, 138, 150, 1, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [963, 138, 150, 1, 0, 0, 0, 0, 0, 0]
Distribution after update: [963, 138, 150, 1, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [963, 138, 150, 1, 0, 0, 0, 0, 0, 0]
Distribution after update: [963, 138, 150, 1, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [963, 138, 150, 1, 0, 0, 0, 0, 0, 0]
Distribution after update: [963, 138, 150, 1, 0, 0, 0, 0, 0, 0]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [963, 138, 150, 1, 0, 0, 0, 0, 0, 0]
Distribution after update: [963, 140, 154, 4, 6, 7, 13, 3, 4, 4]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [963, 140, 154, 4, 6, 7, 13, 3, 4, 4]
Distribution after update: [965, 140, 154, 4, 6, 7, 13, 3, 4, 20]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [965, 140, 154, 4, 6, 7, 13, 3, 4, 20]
Distribution after update: [1093, 158, 158, 4, 6, 7, 13, 3, 4, 20]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1093, 158, 158, 4, 6, 7, 13, 3, 4, 20]
Distribution after update: [1095, 158, 158, 4, 6, 7, 13, 3, 4, 20]
--------------------------------------------------
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1095, 158, 158, 4, 6, 7, 13, 3, 4, 20]
Distribution after update: [1095, 158, 158, 4, 6, 7, 13, 3, 4, 20]
--------------------------------------------------
===== Interval Coverage after Initial Profiling =====
Interval 0: 1095 queries
Interval 1: 158 queries
Interval 2: 158 queries
Interval 3: 4 queries
Interval 4: 6 queries
Interval 5: 7 queries
Interval 6: 13 queries
Interval 7: 3 queries
Interval 8: 4 queries
Interval 9: 20 queries
=== Main Template Refinement Iteration 1/3 ===
>>> Interval 3 has coverage=4 (of 153), range=[3000.0, 4000.0). Refining...
>>> Interval 4 has coverage=6 (of 230), range=[4000.0, 5000.0). Refining...
>>> Interval 5 has coverage=7 (of 235), range=[5000.0, 6000.0). Refining...
>>> Interval 6 has coverage=13 (of 167), range=[6000.0, 7000.0). Refining...
>>> Interval 7 has coverage=3 (of 92), range=[7000.0, 8000.0). Refining...
>>> Interval 8 has coverage=4 (of 23), range=[8000.0, 9000.0). Refining...
In main_refine_1_0, generated 1 new templates. Profiling them...
Start initial profiling of template_25
Finish initial profiling of template_25
In main_refine_1_0, accepted 0 new template(s)
===== Interval Coverage after main_refine_1_0 =====
Interval 0: 1095 queries
Interval 1: 158 queries
Interval 2: 158 queries
Interval 3: 4 queries
Interval 4: 6 queries
Interval 5: 7 queries
Interval 6: 13 queries
Interval 7: 3 queries
Interval 8: 4 queries
Interval 9: 20 queries
In main_refine_1_1, generated 1 new templates. Profiling them...
Start initial profiling of template_26
Finish initial profiling of template_26
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1095, 158, 158, 4, 6, 7, 13, 3, 4, 20]
Distribution after update: [1097, 159, 159, 4, 6, 7, 14, 4, 4, 20]
--------------------------------------------------
In main_refine_1_1, accepted 1 new template(s)
===== Interval Coverage after main_refine_1_1 =====
Interval 0: 1097 queries
Interval 1: 159 queries
Interval 2: 159 queries
Interval 3: 4 queries
Interval 4: 6 queries
Interval 5: 7 queries
Interval 6: 14 queries
Interval 7: 4 queries
Interval 8: 4 queries
Interval 9: 20 queries
In main_refine_1_2, generated 1 new templates. Profiling them...
Start initial profiling of template_27
Finish initial profiling of template_27
In main_refine_1_2, accepted 0 new template(s)
===== Interval Coverage after main_refine_1_2 =====
Interval 0: 1097 queries
Interval 1: 159 queries
Interval 2: 159 queries
Interval 3: 4 queries
Interval 4: 6 queries
Interval 5: 7 queries
Interval 6: 14 queries
Interval 7: 4 queries
Interval 8: 4 queries
Interval 9: 20 queries
In main_refine_1_3, generated 1 new templates. Profiling them...
Start initial profiling of template_28
Finish initial profiling of template_28
In main_refine_1_3, accepted 0 new template(s)
===== Interval Coverage after main_refine_1_3 =====
Interval 0: 1097 queries
Interval 1: 159 queries
Interval 2: 159 queries
Interval 3: 4 queries
Interval 4: 6 queries
Interval 5: 7 queries
Interval 6: 14 queries
Interval 7: 4 queries
Interval 8: 4 queries
Interval 9: 20 queries
In main_refine_1_4, generated 1 new templates. Profiling them...
Start initial profiling of template_29
Finish initial profiling of template_29
In main_refine_1_4, accepted 0 new template(s)
===== Interval Coverage after main_refine_1_4 =====
Interval 0: 1097 queries
Interval 1: 159 queries
Interval 2: 159 queries
Interval 3: 4 queries
Interval 4: 6 queries
Interval 5: 7 queries
Interval 6: 14 queries
Interval 7: 4 queries
Interval 8: 4 queries
Interval 9: 20 queries
In main_refine_1_5, generated 1 new templates. Profiling them...
Start initial profiling of template_30
Finish initial profiling of template_30
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1097, 159, 159, 4, 6, 7, 14, 4, 4, 20]
Distribution after update: [1097, 159, 181, 42, 30, 23, 27, 13, 8, 23]
--------------------------------------------------
In main_refine_1_5, accepted 1 new template(s)
===== Interval Coverage after main_refine_1_5 =====
Interval 0: 1097 queries
Interval 1: 159 queries
Interval 2: 181 queries
Interval 3: 42 queries
Interval 4: 30 queries
Interval 5: 23 queries
Interval 6: 27 queries
Interval 7: 13 queries
Interval 8: 8 queries
Interval 9: 23 queries
In main_refine_1_6, generated 1 new templates. Profiling them...
Start initial profiling of template_31
Finish initial profiling of template_31
In main_refine_1_6, accepted 0 new template(s)
===== Interval Coverage after main_refine_1_6 =====
Interval 0: 1097 queries
Interval 1: 159 queries
Interval 2: 181 queries
Interval 3: 42 queries
Interval 4: 30 queries
Interval 5: 23 queries
Interval 6: 27 queries
Interval 7: 13 queries
Interval 8: 8 queries
Interval 9: 23 queries
In main_refine_1_7, generated 1 new templates. Profiling them...
Start initial profiling of template_32
Finish initial profiling of template_32
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1097, 159, 181, 42, 30, 23, 27, 13, 8, 23]
Distribution after update: [1112, 169, 209, 62, 62, 68, 27, 13, 8, 23]
--------------------------------------------------
In main_refine_1_7, accepted 1 new template(s)
===== Interval Coverage after main_refine_1_7 =====
Interval 0: 1112 queries
Interval 1: 169 queries
Interval 2: 209 queries
Interval 3: 62 queries
Interval 4: 62 queries
Interval 5: 68 queries
Interval 6: 27 queries
Interval 7: 13 queries
Interval 8: 8 queries
Interval 9: 23 queries
In main_refine_1_8, generated 1 new templates. Profiling them...
Start initial profiling of template_33
Finish initial profiling of template_33
In main_refine_1_8, accepted 0 new template(s)
===== Interval Coverage after main_refine_1_8 =====
Interval 0: 1112 queries
Interval 1: 169 queries
Interval 2: 209 queries
Interval 3: 62 queries
Interval 4: 62 queries
Interval 5: 68 queries
Interval 6: 27 queries
Interval 7: 13 queries
Interval 8: 8 queries
Interval 9: 23 queries
In main_refine_1_9, generated 1 new templates. Profiling them...
Start initial profiling of template_34
Finish initial profiling of template_34
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1112, 169, 209, 62, 62, 68, 27, 13, 8, 23]
Distribution after update: [1112, 171, 212, 65, 63, 70, 43, 24, 9, 24]
--------------------------------------------------
In main_refine_1_9, accepted 1 new template(s)
===== Interval Coverage after main_refine_1_9 =====
Interval 0: 1112 queries
Interval 1: 171 queries
Interval 2: 212 queries
Interval 3: 65 queries
Interval 4: 63 queries
Interval 5: 70 queries
Interval 6: 43 queries
Interval 7: 24 queries
Interval 8: 9 queries
Interval 9: 24 queries
In main_refine_1_10, generated 1 new templates. Profiling them...
Start initial profiling of template_35
Finish initial profiling of template_35
In main_refine_1_10, accepted 0 new template(s)
===== Interval Coverage after main_refine_1_10 =====
Interval 0: 1112 queries
Interval 1: 171 queries
Interval 2: 212 queries
Interval 3: 65 queries
Interval 4: 63 queries
Interval 5: 70 queries
Interval 6: 43 queries
Interval 7: 24 queries
Interval 8: 9 queries
Interval 9: 24 queries
In main_refine_1_11, generated 1 new templates. Profiling them...
Start initial profiling of template_36
Finish initial profiling of template_36
In main_refine_1_11, accepted 0 new template(s)
===== Interval Coverage after main_refine_1_11 =====
Interval 0: 1112 queries
Interval 1: 171 queries
Interval 2: 212 queries
Interval 3: 65 queries
Interval 4: 63 queries
Interval 5: 70 queries
Interval 6: 43 queries
Interval 7: 24 queries
Interval 8: 9 queries
Interval 9: 24 queries
In main_refine_1_12, generated 1 new templates. Profiling them...
Start initial profiling of template_37
Finish initial profiling of template_37
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1112, 171, 212, 65, 63, 70, 43, 24, 9, 24]
Distribution after update: [1115, 171, 212, 65, 63, 70, 43, 24, 13, 29]
--------------------------------------------------
In main_refine_1_12, accepted 1 new template(s)
===== Interval Coverage after main_refine_1_12 =====
Interval 0: 1115 queries
Interval 1: 171 queries
Interval 2: 212 queries
Interval 3: 65 queries
Interval 4: 63 queries
Interval 5: 70 queries
Interval 6: 43 queries
Interval 7: 24 queries
Interval 8: 13 queries
Interval 9: 29 queries
In main_refine_1_13, generated 1 new templates. Profiling them...
Start initial profiling of template_38
Finish initial profiling of template_38
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1115, 171, 212, 65, 63, 70, 43, 24, 13, 29]
Distribution after update: [1115, 171, 212, 65, 63, 70, 43, 24, 163, 29]
--------------------------------------------------
In main_refine_1_13, accepted 1 new template(s)
===== Interval Coverage after main_refine_1_13 =====
Interval 0: 1115 queries
Interval 1: 171 queries
Interval 2: 212 queries
Interval 3: 65 queries
Interval 4: 63 queries
Interval 5: 70 queries
Interval 6: 43 queries
Interval 7: 24 queries
Interval 8: 163 queries
Interval 9: 29 queries
In main_refine_1_14, generated 1 new templates. Profiling them...
Start initial profiling of template_39
Finish initial profiling of template_39
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1115, 171, 212, 65, 63, 70, 43, 24, 163, 29]
Distribution after update: [1115, 186, 238, 83, 79, 87, 57, 32, 170, 39]
--------------------------------------------------
In main_refine_1_14, accepted 1 new template(s)
===== Interval Coverage after main_refine_1_14 =====
Interval 0: 1115 queries
Interval 1: 186 queries
Interval 2: 238 queries
Interval 3: 83 queries
Interval 4: 79 queries
Interval 5: 87 queries
Interval 6: 57 queries
Interval 7: 32 queries
Interval 8: 170 queries
Interval 9: 39 queries
In main_refine_1_15, generated 1 new templates. Profiling them...
Start initial profiling of template_40
Finish initial profiling of template_40
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1115, 186, 238, 83, 79, 87, 57, 32, 170, 39]
Distribution after update: [1115, 188, 241, 86, 80, 89, 73, 43, 171, 40]
--------------------------------------------------
In main_refine_1_15, accepted 1 new template(s)
===== Interval Coverage after main_refine_1_15 =====
Interval 0: 1115 queries
Interval 1: 188 queries
Interval 2: 241 queries
Interval 3: 86 queries
Interval 4: 80 queries
Interval 5: 89 queries
Interval 6: 73 queries
Interval 7: 43 queries
Interval 8: 171 queries
Interval 9: 40 queries
In main_refine_1_16, generated 1 new templates. Profiling them...
Start initial profiling of template_41
Finish initial profiling of template_41
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1115, 188, 241, 86, 80, 89, 73, 43, 171, 40]
Distribution after update: [1161, 230, 272, 112, 84, 90, 73, 43, 171, 40]
--------------------------------------------------
In main_refine_1_16, accepted 1 new template(s)
===== Interval Coverage after main_refine_1_16 =====
Interval 0: 1161 queries
Interval 1: 230 queries
Interval 2: 272 queries
Interval 3: 112 queries
Interval 4: 84 queries
Interval 5: 90 queries
Interval 6: 73 queries
Interval 7: 43 queries
Interval 8: 171 queries
Interval 9: 40 queries
In main_refine_1_17, generated 1 new templates. Profiling them...
Start initial profiling of template_42
Finish initial profiling of template_42
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1161, 230, 272, 112, 84, 90, 73, 43, 171, 40]
Distribution after update: [1161, 241, 294, 130, 96, 107, 83, 55, 184, 49]
--------------------------------------------------
In main_refine_1_17, accepted 1 new template(s)
===== Interval Coverage after main_refine_1_17 =====
Interval 0: 1161 queries
Interval 1: 241 queries
Interval 2: 294 queries
Interval 3: 130 queries
Interval 4: 96 queries
Interval 5: 107 queries
Interval 6: 83 queries
Interval 7: 55 queries
Interval 8: 184 queries
Interval 9: 49 queries
=== Main Template Refinement Iteration 2/3 ===
No missing intervals left. Main refinement complete.
No difficult intervals left. Additional refinement complete.
Template refinement process is complete.
Iteration 1/100
Interval  Target    Current   Difference
0         6         1161      -1155     
1         27        241       -214      
2         59        294       -235      
3         153       130       23        
4         230       96        134       
5         235       107       128       
6         167       83        84        
7         92        55        37        
8         23        184       -161      
9         8         49        -41       
Template template_11 has only 1 unique costs and none in target range [4000.0, 5000.0]
Skipping template template_11 due to limited cost diversity outside the target range
Template template_1 has only 1 unique costs and none in target range [4000.0, 5000.0]
Skipping template template_1 due to limited cost diversity outside the target range
Template template_7 has only 1 unique costs and none in target range [4000.0, 5000.0]
Skipping template template_7 due to limited cost diversity outside the target range
Template template_4 has only 1 unique costs and none in target range [4000.0, 5000.0]
Skipping template template_4 due to limited cost diversity outside the target range
Template template_9 has only 1 unique costs and none in target range [4000.0, 5000.0]
Skipping template template_9 due to limited cost diversity outside the target range
Template template_3 has only 1 unique costs and none in target range [4000.0, 5000.0]
Skipping template template_3 due to limited cost diversity outside the target range
Template template_13 has only 1 unique costs and none in target range [4000.0, 5000.0]
Skipping template template_13 due to limited cost diversity outside the target range
Attempting to optimize interval 4 using template 30 (prob=0.0005).
Update current distribution successfully
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1161, 241, 294, 130, 96, 107, 83, 55, 184, 49]
Distribution after update: [1161, 241, 343, 233, 475, 163, 92, 66, 197, 63]
--------------------------------------------------
Improvement found for template 30 in interval 4.
Attempting to optimize interval 4 using template 41 (prob=0.0005).
Update current distribution successfully
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1161, 241, 343, 233, 475, 163, 92, 66, 197, 63]
Distribution after update: [1226, 284, 394, 315, 865, 163, 92, 66, 197, 63]
--------------------------------------------------
Improvement found for template 41 in interval 4.
No improvement and only 0.00% of new queries were useful; marking as bad combination.
Attempting to optimize interval 4 using template template_6 (prob=0.0008).
Update current distribution successfully
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1226, 284, 394, 315, 865, 163, 92, 66, 197, 63]
Distribution after update: [1226, 284, 1064, 315, 865, 163, 92, 66, 197, 63]
--------------------------------------------------
Improvement found for template template_6 in interval 4.
No improvement and only 0.00% of new queries were useful; marking as bad combination.
Attempting to optimize interval 4 using template 32 (prob=0.0011).
Update current distribution successfully
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1226, 284, 1064, 315, 865, 163, 92, 66, 197, 63]
Distribution after update: [1258, 312, 1090, 378, 1295, 254, 92, 66, 197, 63]
--------------------------------------------------
Improvement found for template 32 in interval 4.
Attempting to optimize interval 4 using template 39 (prob=0.0004).
Update current distribution successfully
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1258, 312, 1090, 378, 1295, 254, 92, 66, 197, 63]
Distribution after update: [1258, 325, 1115, 420, 1766, 294, 102, 87, 205, 87]
--------------------------------------------------
Improvement found for template 39 in interval 4.
No improvement and only 4.63% of new queries were useful; marking as bad combination.
Attempting to optimize interval 4 using template 34 (prob=0.0000).
Update current distribution successfully
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1258, 325, 1115, 420, 1766, 294, 102, 87, 205, 87]
Distribution after update: [1258, 343, 1120, 469, 1979, 326, 148, 127, 211, 90]
--------------------------------------------------
Improvement found for template 34 in interval 4.
Attempting to optimize interval 4 using template template_10 (prob=0.0001).
Update current distribution successfully
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1258, 343, 1120, 469, 1979, 326, 148, 127, 211, 90]
Distribution after update: [1258, 343, 1120, 469, 1979, 326, 148, 127, 211, 90]
--------------------------------------------------
Improvement found for template template_10 in interval 4.
No improvement and only 0.00% of new queries were useful; marking as bad combination.
Attempting to optimize interval 4 using template 38 (prob=0.0003).
Update current distribution successfully
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1258, 343, 1120, 469, 1979, 326, 148, 127, 211, 90]
Distribution after update: [1258, 343, 1120, 469, 1979, 326, 148, 127, 806, 90]
--------------------------------------------------
Improvement found for template 38 in interval 4.
No improvement and only 0.00% of new queries were useful; marking as bad combination.
The wasserstein_distance after iteration 1 is 33.37104994903167
Iteration 2/100
Interval  Target    Current   Difference
0         6         1258      -1252     
1         27        343       -316      
2         59        1120      -1061     
3         153       469       -316      
4         230       1979      -1749     
5         235       326       -91       
6         167       148       19        
7         92        127       -35       
8         23        806       -783      
9         8         90        -82       
Template template_11 has only 1 unique costs and none in target range [6000.0, 7000.0]
Skipping template template_11 due to limited cost diversity outside the target range
Template template_1 has only 1 unique costs and none in target range [6000.0, 7000.0]
Skipping template template_1 due to limited cost diversity outside the target range
Template template_7 has only 1 unique costs and none in target range [6000.0, 7000.0]
Skipping template template_7 due to limited cost diversity outside the target range
Template template_4 has only 1 unique costs and none in target range [6000.0, 7000.0]
Skipping template template_4 due to limited cost diversity outside the target range
Template template_9 has only 1 unique costs and none in target range [6000.0, 7000.0]
Skipping template template_9 due to limited cost diversity outside the target range
Template template_3 has only 1 unique costs and none in target range [6000.0, 7000.0]
Skipping template template_3 due to limited cost diversity outside the target range
Template template_13 has only 1 unique costs and none in target range [6000.0, 7000.0]
Skipping template template_13 due to limited cost diversity outside the target range
Attempting to optimize interval 6 using template 38 (prob=0.0003).
Update current distribution successfully
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1258, 343, 1120, 469, 1979, 326, 148, 127, 806, 90]
Distribution after update: [1258, 343, 1120, 469, 1979, 326, 148, 127, 901, 90]
--------------------------------------------------
No improvement and only 0.00% of new queries were useful; marking as bad combination.
Attempting to optimize interval 6 using template 39 (prob=0.0004).
Update current distribution successfully
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1258, 343, 1120, 469, 1979, 326, 148, 127, 901, 90]
Distribution after update: [1258, 350, 1129, 481, 1985, 331, 190, 128, 903, 93]
--------------------------------------------------
Improvement found for template 39 in interval 6.
Attempting to optimize interval 6 using template 41 (prob=0.0003).
Update current distribution successfully
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1258, 350, 1129, 481, 1985, 331, 190, 128, 903, 93]
Distribution after update: [1279, 366, 1145, 496, 2012, 331, 190, 128, 903, 93]
--------------------------------------------------
Improvement found for template 41 in interval 6.
No improvement and only 0.00% of new queries were useful; marking as bad combination.
Attempting to optimize interval 6 using template 32 (prob=0.0004).
Update current distribution successfully
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1279, 366, 1145, 496, 2012, 331, 190, 128, 903, 93]
Distribution after update: [1289, 372, 1155, 501, 2026, 381, 190, 128, 903, 93]
--------------------------------------------------
Improvement found for template 32 in interval 6.
No improvement and only 0.00% of new queries were useful; marking as bad combination.
Attempting to optimize interval 6 using template 30 (prob=0.0005).
Update current distribution successfully
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1289, 372, 1155, 501, 2026, 381, 190, 128, 903, 93]
Distribution after update: [1289, 372, 1162, 526, 2039, 397, 203, 132, 905, 95]
--------------------------------------------------
Improvement found for template 30 in interval 6.
No improvement and only 0.00% of new queries were useful; marking as bad combination.
Attempting to optimize interval 6 using template template_15 (prob=0.0002).
Update current distribution successfully
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1289, 372, 1162, 526, 2039, 397, 203, 132, 905, 95]
Distribution after update: [1289, 459, 1162, 526, 2039, 397, 203, 132, 905, 95]
--------------------------------------------------
Improvement found for template template_15 in interval 6.
No improvement and only 0.00% of new queries were useful; marking as bad combination.
Attempting to optimize interval 6 using template template_5 (prob=0.0001).
Update current distribution successfully
--------------------------------------------------
Target distribution: [6, 27, 59, 153, 230, 235, 167, 92, 23, 8]
Distribution before update: [1289, 459, 1162, 526, 2039, 397, 203, 132, 905, 95]
Distribution after update: [1383, 459, 1162, 526, 2039, 397, 203, 132, 905, 95]
--------------------------------------------------
Improvement found for template template_5 in interval 6.
No improvement and only 0.00% of new queries were useful; marking as bad combination.
The wasserstein_distance after iteration 2 is 0.0
Iteration 3/100
Interval  Target    Current   Difference
0         6         1383      -1377     
1         27        459       -432      
2         59        1162      -1103     
3         153       526       -373      
4         230       2039      -1809     
5         235       397       -162      
6         167       203       -36       
7         92        132       -40       
8         23        905       -882      
9         8         95        -87       
No more intervals with suitable templates to optimize.
The wasserstein_distance after iteration 3 is 0.0
Target distribution is matched. Stopping optimization.
